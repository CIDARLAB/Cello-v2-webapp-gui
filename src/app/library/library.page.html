<ion-header>
  <app-navbar></app-navbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- <ion-card> -->
	<ion-list>
	  <ion-segment [(ngModel)]="mode">
		<ion-segment-button value="ucf" style="width: 50%">
		  <ion-label>User constraints file</ion-label>
		</ion-segment-button>
		<ion-segment-button value="registry" style="width: 50%">
		  <ion-label>Registry</ion-label>
		</ion-segment-button>
	  </ion-segment>
	</ion-list>
	<!-- </ion-card> -->
  <ion-grid>
	<ion-row>
	  <ion-col size-sm="12" offset-sm="0" size-lg="8" offset-lg="2" class="ion-text-center ion-no-padding">
		<ion-card *ngIf="mode == 'ucf'">
		  <ion-list>
			<ion-item style="width: 100%">
			  <ion-label position="stacked">User Constraints File</ion-label>
			  <ion-select interface="popover" [(ngModel)]="project.ucf" (ionChange)="project.updateUCFs()">
				<ion-select-option value="{{u}}" *ngFor="let u of project.ucfs">{{r}}</ion-select-option>
			  </ion-select>
			</ion-item>
			<ion-item style="width: 100%">
			  <ion-label position="stacked">Upload</ion-label>
			  <ion-input accept="application/json" type="file"></ion-input>
			</ion-item>
			<ion-button fill="clear">Upload</ion-button>
		  </ion-list>
		</ion-card>
		<ion-card *ngIf="mode == 'ucf'">
		  <ion-list>
			<ion-item style="width: 100%">
			  <ion-label position="stacked">Input Sensor File</ion-label>
			  <ion-select interface="popover" [(ngModel)]="project.inputSensorFile" (ionChange)="project.updateUCFs()">
				<ion-select-option value="{{u}}" *ngFor="let u of project.inputSensorFiles">{{r}}</ion-select-option>
			  </ion-select>
			</ion-item>
			<ion-item style="width: 100%">
			  <ion-label position="stacked">Upload</ion-label>
			  <ion-input type="file"></ion-input>
			</ion-item>
			<ion-button fill="clear">Upload</ion-button>
		  </ion-list>
		</ion-card>
		<ion-card *ngIf="mode == 'ucf'">
		  <ion-list>
			<ion-item style="width: 100%">
			  <ion-label position="stacked">Output Device File</ion-label>
			  <ion-select interface="popover" [(ngModel)]="project.outputDeviceFile" (ionChange)="project.updateUCFs()">
				<ion-select-option value="{{u}}" *ngFor="let u of project.outputDeviceFiles">{{r}}</ion-select-option>
			  </ion-select>
			</ion-item>
			<ion-item style="width: 100%">
			  <ion-label position="stacked">Upload</ion-label>
			  <ion-input type="file"></ion-input>
			</ion-item>
			<ion-button fill="clear">Upload</ion-button>
		  </ion-list>
		</ion-card>
		<ion-card *ngIf="mode == 'registry'">
		  <ion-list>
			<ion-item style="width: 60%">
			  <ion-label position="stacked">Registry</ion-label>
			  <ion-select interface="popover" [(ngModel)]="project.registry" (ionChange)="project.updateCollections()">
				<ion-select-option value="{{r}}" *ngFor="let r of project.registries">{{r}}</ion-select-option>
			  </ion-select>
			</ion-item>
			<ion-item style="width: 40%">
			  <ion-label position="stacked">Collection</ion-label>
			  <ion-select interface="popover" [(ngModel)]="project.collection">
				<ion-select-option value="{{c.uri}}" *ngFor="let c of project.collections">{{c.name}}</ion-select-option>
			  </ion-select>
			</ion-item>
		  </ion-list>
		</ion-card>
	  </ion-col>
	</ion-row>
  </ion-grid>
  <ion-card #view>
  </ion-card>
</ion-content>
