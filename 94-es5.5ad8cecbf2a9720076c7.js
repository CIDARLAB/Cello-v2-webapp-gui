function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{wiMD:function(e,n,t){"use strict";t.r(n),t.d(n,"LibraryModule",(function(){return F}));var i,c=t("ofXK"),a=t("TEn/"),o=t("lDzL"),r=t("tyNb"),l=t("PXna"),s=t("PSy5"),b=t("yZrb"),u=t("hBHG"),d=t("nYR2"),p=t("Iab2"),f=t("fXoL"),z=t("sYmb"),h=t("mrSG"),m=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=f.Hb({type:i,selectors:[["app-library-details"]],decls:51,vars:9,consts:[[1,"ion-padding"],[3,"innerHTML"]],template:function(e,n){1&e&&(f.Sb(0,"ion-content"),f.zc(1,"\n  "),f.Sb(2,"ion-card",0),f.zc(3,"\n    "),f.Ob(4,"h3",1),f.zc(5,"\n    "),f.Sb(6,"ion-list"),f.zc(7,"\n      "),f.Sb(8,"ion-label"),f.zc(9,"Organism"),f.Rb(),f.zc(10,"\n      "),f.Ob(11,"ion-item",1),f.zc(12,"\n      "),f.Sb(13,"ion-label"),f.zc(14,"Genome"),f.Rb(),f.zc(15,"\n      "),f.Ob(16,"ion-item",1),f.zc(17,"\n      "),f.Sb(18,"ion-label"),f.zc(19,"Description"),f.Rb(),f.zc(20,"\n      "),f.Ob(21,"ion-item",1),f.zc(22,"\n      "),f.Sb(23,"ion-label"),f.zc(24,"Growth"),f.Rb(),f.zc(25,"\n      "),f.Ob(26,"ion-item",1),f.zc(27,"\n      "),f.Sb(28,"ion-label"),f.zc(29,"Temperature"),f.Rb(),f.zc(30,"\n      "),f.Ob(31,"ion-item",1),f.zc(32,"\n      "),f.Sb(33,"ion-label"),f.zc(34,"Media"),f.Rb(),f.zc(35,"\n      "),f.Ob(36,"ion-item",1),f.zc(37,"\n      "),f.Sb(38,"ion-label"),f.zc(39,"Date"),f.Rb(),f.zc(40,"\n      "),f.Ob(41,"ion-item",1),f.zc(42,"\n      "),f.Sb(43,"ion-label"),f.zc(44,"Authors"),f.Rb(),f.zc(45,"\n      "),f.Ob(46,"ion-item",1),f.zc(47,"\n    "),f.Rb(),f.zc(48,"\n  "),f.Rb(),f.zc(49,"\n"),f.Rb(),f.zc(50,"\n")),2&e&&(f.Ab(4),f.hc("innerHTML",n.library.header.version,f.rc),f.Ab(7),f.hc("innerHTML",n.library.header.organism,f.rc),f.Ab(5),f.hc("innerHTML",n.library.header.genome,f.rc),f.Ab(5),f.hc("innerHTML",n.library.header.description,f.rc),f.Ab(5),f.hc("innerHTML",n.library.header.growth,f.rc),f.Ab(5),f.hc("innerHTML",n.library.header.temperature+"\xb0C",f.rc),f.Ab(5),f.hc("innerHTML",n.library.header.media,f.rc),f.Ab(5),f.hc("innerHTML",n.library.header.date,f.rc),f.Ab(5),f.hc("innerHTML",n.library.header.author.join("<br/>"),f.rc))},directives:[a.m,a.g,a.v,a.u,a.t],styles:["ion-item[_ngcontent-%COMP%]{text-align:justify}"]}),i);function g(e,n){1&e&&(f.zc(0,"\n      "),f.Sb(1,"span",8),f.zc(2,"Identifier"),f.Rb(),f.zc(3,"\n    "))}function y(e,n){1&e&&f.zc(0),2&e&&f.Bc("\n      ",n.value,"\n    ")}function v(e,n){1&e&&(f.zc(0,"\n      "),f.Sb(1,"span",8),f.zc(2,"Organism"),f.Rb(),f.zc(3,"\n    "))}function w(e,n){1&e&&f.zc(0),2&e&&f.Bc("\n      ",n.value,"\n    ")}function S(e,n){1&e&&(f.zc(0,"\n      "),f.Sb(1,"span",8),f.zc(2,"Description"),f.Rb(),f.zc(3,"\n    "))}function x(e,n){1&e&&f.zc(0),2&e&&f.Bc("\n      ",n.value,"\n    ")}function C(e,n){1&e&&(f.zc(0,"\n      "),f.Sb(1,"span",8),f.zc(2,"Actions"),f.Rb(),f.zc(3,"\n    "))}function R(e,n){if(1&e){var t=f.Tb();f.zc(0,"\n      "),f.Sb(1,"ion-button",9),f.ac("click",(function(e){f.qc(t);var i=n.row;return f.cc().deleteFile(i,e)})),f.zc(2,"\n        "),f.Ob(3,"ion-icon",10),f.zc(4,"\n      "),f.Rb(),f.zc(5,"\n      "),f.Sb(6,"ion-button",9),f.ac("click",(function(e){f.qc(t);var i=n.row;return f.cc().downloadFile(i,e)})),f.zc(7,"\n        "),f.Ob(8,"ion-icon",11),f.zc(9,"\n      "),f.Rb(),f.zc(10,"\n      "),f.Sb(11,"ion-button",9),f.ac("click",(function(e){f.qc(t);var i=n.row;return f.cc().details(i,e)})),f.zc(12,"\n        "),f.Ob(13,"ion-icon",12),f.zc(14,"\n      "),f.Rb(),f.zc(15,"\n    ")}if(2&e){var i=n.row;f.Ab(1),f.wc("visibility",i.isPrivate?"visible":"hidden")}}function O(e,n){if(1&e&&(f.zc(0,"\n      "),f.Sb(1,"div",13),f.zc(2,"\n        "),f.Sb(3,"div"),f.zc(4),f.Sb(5,"span",8),f.zc(6,"total"),f.Rb(),f.Rb(),f.zc(7,"\n        "),f.zc(8,"\n        "),f.zc(9,"\n        "),f.zc(10,"\n        "),f.zc(11,"\n        "),f.zc(12,"\n      "),f.Rb(),f.zc(13,"\n    ")),2&e){var t=n.rowCount;f.Ab(4),f.Bc("",t," ")}}var k,M,_,P,j=((k=function(){function e(n,t){_classCallCheck(this,e),this.apiService=n,this.modalController=t,this.SelectionType=o.i,this.ColumnMode=o.a,this.library=[],this.select=new f.n,this.delete=new f.n,this.download=new f.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"details",value:function(e,n){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,this.modalController.create({component:m,componentProps:{library:e}});case 3:return i=t.sent,t.next=6,i.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"selectFile",value:function(e){this.select.emit(e.selected[0])}},{key:"deleteFile",value:function(e,n){n.stopPropagation(),this.delete.emit(e)}},{key:"downloadFile",value:function(e,n){n.stopPropagation(),this.download.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||k)(f.Nb(b.a),f.Nb(a.L))},k.\u0275cmp=f.Hb({type:k,selectors:[["app-library-list"]],inputs:{libraries:"libraries"},outputs:{select:"select",delete:"delete",download:"download"},decls:37,vars:16,consts:[["headerHeight","50","footerHeight","50","rowHeight","auto",1,"material","fullscreen",3,"columnMode","selectionType","rows","selected","select"],["prop","header.version",3,"minWidth","resizeable","flexGrow"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["prop","header.organism",3,"resizeable","flexGrow"],["prop","header.description",3,"resizeable","flexGrow"],["sortable","false",3,"minWidth","resizeable","flexGrow","cellClass","headerClass"],["ngx-datatable-footer-template",""],["translate",""],["fill","clear",1,"ion-no-padding",3,"click"],["slot","icon-only","name","trash-outline"],["slot","icon-only","name","cloud-download-outline"],["slot","icon-only","name","information-circle-outline"],[1,"library-list-datatable-footer"]],template:function(e,n){1&e&&(f.Sb(0,"ngx-datatable",0),f.ac("select",(function(e){return n.selectFile(e)})),f.zc(1,"\n  "),f.zc(2,"\n  "),f.Sb(3,"ngx-datatable-column",1),f.zc(4,"\n    "),f.xc(5,g,4,0,"ng-template",2),f.zc(6,"\n    "),f.xc(7,y,1,1,"ng-template",3),f.zc(8,"\n  "),f.Rb(),f.zc(9,"\n  "),f.Sb(10,"ngx-datatable-column",4),f.zc(11,"\n    "),f.xc(12,v,4,0,"ng-template",2),f.zc(13,"\n    "),f.xc(14,w,1,1,"ng-template",3),f.zc(15,"\n  "),f.Rb(),f.zc(16,"\n  "),f.Sb(17,"ngx-datatable-column",5),f.zc(18,"\n    "),f.xc(19,S,4,0,"ng-template",2),f.zc(20,"\n    "),f.xc(21,x,1,1,"ng-template",3),f.zc(22,"\n  "),f.Rb(),f.zc(23,"\n  "),f.Sb(24,"ngx-datatable-column",6),f.zc(25,"\n    "),f.xc(26,C,4,0,"ng-template",2),f.zc(27,"\n    "),f.xc(28,R,16,2,"ng-template",3),f.zc(29,"\n  "),f.Rb(),f.zc(30,"\n  "),f.Sb(31,"ngx-datatable-footer"),f.zc(32,"\n    "),f.xc(33,O,14,1,"ng-template",7),f.zc(34,"\n  "),f.Rb(),f.zc(35,"\n"),f.Rb(),f.zc(36,"\n")),2&e&&(f.hc("columnMode",n.ColumnMode.flex)("selectionType",n.SelectionType.single)("rows",n.libraries)("selected",n.library),f.Ab(3),f.hc("minWidth",160)("resizeable",!1)("flexGrow",1),f.Ab(7),f.hc("resizeable",!1)("flexGrow",2),f.Ab(7),f.hc("resizeable",!1)("flexGrow",3),f.Ab(7),f.hc("minWidth",120)("resizeable",!1)("flexGrow",1)("cellClass","ngx-datatable-justify-cell-right")("headerClass","ngx-datatable-justify-cell-right"))},directives:[o.f,o.c,o.d,o.b,o.g,o.e,z.a,a.e,a.r],styles:["ion-item[_ngcontent-%COMP%]{display:block;width:auto;float:left}ion-segment-button[_ngcontent-%COMP%]{max-width:unset}.ngx-datatable[_ngcontent-%COMP%]{box-shadow:unset}ion-item[_ngcontent-%COMP%], ngx-datatable[_ngcontent-%COMP%]{width:100%}.ion-item-with-ngx-datatable[_ngcontent-%COMP%]{--padding-start:0px;--inner-padding-end:0px}ion-button[_ngcontent-%COMP%]{--background-hover-opacity:0;--ripple-color:transparent;height:auto;margin-top:0;margin-bottom:0}.library-list-datatable-footer[_ngcontent-%COMP%]{padding:0 1.2rem;width:100%;display:flex;justify-content:space-between}"]}),k),A=[s.a.childRoutes([{path:"",component:(M=function(){function e(n,t){_classCallCheck(this,e),this.apiService=n,this.projectService=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.getFiles()}},{key:"getFiles",value:function(){var e=this;this.apiService.getUserConstraintsFiles().subscribe((function(n){e.libraries=n}))}},{key:"onFileInput",value:function(e){var n=this;this.apiService.addUserConstraintsFile(e.target.files[0]).pipe(Object(d.a)((function(){n.getFiles()}))).subscribe()}},{key:"onSelect",value:function(e){this.projectService.project.library.userConstraintsFile=e.file}},{key:"onDelete",value:function(e){var n=this;this.apiService.deleteUserConstraintsFile(e.file).pipe(Object(d.a)((function(){n.getFiles()}))).subscribe()}},{key:"onDownload",value:function(e){this.apiService.getUserConstraintsFile(e.file).subscribe((function(n){var t=new Blob([n],{type:"application/json"});p.saveAs(t,e.file)}))}}]),e}(),M.\u0275fac=function(e){return new(e||M)(f.Nb(b.a),f.Nb(u.a))},M.\u0275cmp=f.Hb({type:M,selectors:[["app-library"]],decls:27,vars:1,consts:[["color","primary",1,"ion-text-center"],["translate",""],["vertical","top","horizontal","end","slot","fixed",1,"custom-fab"],[3,"click"],["name","cloud-upload"],["accept","application/json","type","file",2,"display","none",3,"change"],["fileInput",""],[3,"libraries","select","delete","download"]],template:function(e,n){if(1&e){var t=f.Tb();f.Sb(0,"ion-content"),f.zc(1,"\n  "),f.Sb(2,"ion-text",0),f.zc(3,"\n    "),f.Sb(4,"h3",1),f.zc(5,"Choose a library"),f.Rb(),f.zc(6,"\n  "),f.Rb(),f.zc(7,"\n  "),f.zc(8,"\n  "),f.Sb(9,"ion-fab",2),f.zc(10,"\n    "),f.zc(11,"\n    "),f.Sb(12,"ion-fab-button",3),f.ac("click",(function(){return f.qc(t),f.oc(17).click()})),f.zc(13,"\n      "),f.Ob(14,"ion-icon",4),f.zc(15,"\n      "),f.Sb(16,"input",5,6),f.ac("change",(function(e){return n.onFileInput(e)})),f.Rb(),f.zc(18,"\n    "),f.Rb(),f.zc(19,"\n  "),f.Rb(),f.zc(20,"\n  "),f.Sb(21,"ion-card"),f.zc(22,"\n    "),f.Sb(23,"app-library-list",7),f.ac("select",(function(e){return n.onSelect(e)}))("delete",(function(e){return n.onDelete(e)}))("download",(function(e){return n.onDownload(e)})),f.Rb(),f.zc(24,"\n  "),f.Rb(),f.zc(25,"\n"),f.Rb(),f.zc(26,"\n")}2&e&&(f.Ab(23),f.hc("libraries",n.libraries))},directives:[a.m,a.F,z.a,a.n,a.o,a.r,a.g,j],styles:[""]}),M),data:{title:Object(l.c)("Cello : Project : Library")}}])],T=((P=function e(){_classCallCheck(this,e)}).\u0275mod=f.Lb({type:P}),P.\u0275inj=f.Kb({factory:function(e){return new(e||P)},imports:[[r.j.forChild(A)],r.j]}),P),F=((_=function e(){_classCallCheck(this,e)}).\u0275mod=f.Lb({type:_}),_.\u0275inj=f.Kb({factory:function(e){return new(e||_)},imports:[[c.c,z.b,a.J,o.h,T]]}),_)}}]);