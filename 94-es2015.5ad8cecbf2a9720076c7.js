(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{wiMD:function(e,n,t){"use strict";t.r(n),t.d(n,"LibraryModule",(function(){return A}));var i=t("ofXK"),c=t("TEn/"),o=t("lDzL"),r=t("tyNb"),a=t("PXna"),l=t("PSy5"),s=t("yZrb"),b=t("hBHG"),d=t("nYR2"),p=t("Iab2"),z=t("fXoL"),u=t("sYmb"),h=t("mrSG");let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=z.Hb({type:e,selectors:[["app-library-details"]],decls:51,vars:9,consts:[[1,"ion-padding"],[3,"innerHTML"]],template:function(e,n){1&e&&(z.Sb(0,"ion-content"),z.zc(1,"\n  "),z.Sb(2,"ion-card",0),z.zc(3,"\n    "),z.Ob(4,"h3",1),z.zc(5,"\n    "),z.Sb(6,"ion-list"),z.zc(7,"\n      "),z.Sb(8,"ion-label"),z.zc(9,"Organism"),z.Rb(),z.zc(10,"\n      "),z.Ob(11,"ion-item",1),z.zc(12,"\n      "),z.Sb(13,"ion-label"),z.zc(14,"Genome"),z.Rb(),z.zc(15,"\n      "),z.Ob(16,"ion-item",1),z.zc(17,"\n      "),z.Sb(18,"ion-label"),z.zc(19,"Description"),z.Rb(),z.zc(20,"\n      "),z.Ob(21,"ion-item",1),z.zc(22,"\n      "),z.Sb(23,"ion-label"),z.zc(24,"Growth"),z.Rb(),z.zc(25,"\n      "),z.Ob(26,"ion-item",1),z.zc(27,"\n      "),z.Sb(28,"ion-label"),z.zc(29,"Temperature"),z.Rb(),z.zc(30,"\n      "),z.Ob(31,"ion-item",1),z.zc(32,"\n      "),z.Sb(33,"ion-label"),z.zc(34,"Media"),z.Rb(),z.zc(35,"\n      "),z.Ob(36,"ion-item",1),z.zc(37,"\n      "),z.Sb(38,"ion-label"),z.zc(39,"Date"),z.Rb(),z.zc(40,"\n      "),z.Ob(41,"ion-item",1),z.zc(42,"\n      "),z.Sb(43,"ion-label"),z.zc(44,"Authors"),z.Rb(),z.zc(45,"\n      "),z.Ob(46,"ion-item",1),z.zc(47,"\n    "),z.Rb(),z.zc(48,"\n  "),z.Rb(),z.zc(49,"\n"),z.Rb(),z.zc(50,"\n")),2&e&&(z.Ab(4),z.hc("innerHTML",n.library.header.version,z.rc),z.Ab(7),z.hc("innerHTML",n.library.header.organism,z.rc),z.Ab(5),z.hc("innerHTML",n.library.header.genome,z.rc),z.Ab(5),z.hc("innerHTML",n.library.header.description,z.rc),z.Ab(5),z.hc("innerHTML",n.library.header.growth,z.rc),z.Ab(5),z.hc("innerHTML",n.library.header.temperature+"\xb0C",z.rc),z.Ab(5),z.hc("innerHTML",n.library.header.media,z.rc),z.Ab(5),z.hc("innerHTML",n.library.header.date,z.rc),z.Ab(5),z.hc("innerHTML",n.library.header.author.join("<br/>"),z.rc))},directives:[c.m,c.g,c.v,c.u,c.t],styles:["ion-item[_ngcontent-%COMP%]{text-align:justify}"]}),e})();function f(e,n){1&e&&(z.zc(0,"\n      "),z.Sb(1,"span",8),z.zc(2,"Identifier"),z.Rb(),z.zc(3,"\n    "))}function g(e,n){1&e&&z.zc(0),2&e&&z.Bc("\n      ",n.value,"\n    ")}function y(e,n){1&e&&(z.zc(0,"\n      "),z.Sb(1,"span",8),z.zc(2,"Organism"),z.Rb(),z.zc(3,"\n    "))}function w(e,n){1&e&&z.zc(0),2&e&&z.Bc("\n      ",n.value,"\n    ")}function S(e,n){1&e&&(z.zc(0,"\n      "),z.Sb(1,"span",8),z.zc(2,"Description"),z.Rb(),z.zc(3,"\n    "))}function x(e,n){1&e&&z.zc(0),2&e&&z.Bc("\n      ",n.value,"\n    ")}function R(e,n){1&e&&(z.zc(0,"\n      "),z.Sb(1,"span",8),z.zc(2,"Actions"),z.Rb(),z.zc(3,"\n    "))}function v(e,n){if(1&e){const e=z.Tb();z.zc(0,"\n      "),z.Sb(1,"ion-button",9),z.ac("click",(function(t){z.qc(e);const i=n.row;return z.cc().deleteFile(i,t)})),z.zc(2,"\n        "),z.Ob(3,"ion-icon",10),z.zc(4,"\n      "),z.Rb(),z.zc(5,"\n      "),z.Sb(6,"ion-button",9),z.ac("click",(function(t){z.qc(e);const i=n.row;return z.cc().downloadFile(i,t)})),z.zc(7,"\n        "),z.Ob(8,"ion-icon",11),z.zc(9,"\n      "),z.Rb(),z.zc(10,"\n      "),z.Sb(11,"ion-button",9),z.ac("click",(function(t){z.qc(e);const i=n.row;return z.cc().details(i,t)})),z.zc(12,"\n        "),z.Ob(13,"ion-icon",12),z.zc(14,"\n      "),z.Rb(),z.zc(15,"\n    ")}if(2&e){const e=n.row;z.Ab(1),z.wc("visibility",e.isPrivate?"visible":"hidden")}}function O(e,n){if(1&e&&(z.zc(0,"\n      "),z.Sb(1,"div",13),z.zc(2,"\n        "),z.Sb(3,"div"),z.zc(4),z.Sb(5,"span",8),z.zc(6,"total"),z.Rb(),z.Rb(),z.zc(7,"\n        "),z.zc(8,"\n        "),z.zc(9,"\n        "),z.zc(10,"\n        "),z.zc(11,"\n        "),z.zc(12,"\n      "),z.Rb(),z.zc(13,"\n    ")),2&e){const e=n.rowCount;z.Ab(4),z.Bc("",e," ")}}let C=(()=>{class e{constructor(e,n){this.apiService=e,this.modalController=n,this.SelectionType=o.i,this.ColumnMode=o.a,this.library=[],this.select=new z.n,this.delete=new z.n,this.download=new z.n}ngOnInit(){}details(e,n){return Object(h.a)(this,void 0,void 0,(function*(){n.stopPropagation();const t=yield this.modalController.create({component:m,componentProps:{library:e}});return yield t.present()}))}selectFile(e){this.select.emit(e.selected[0])}deleteFile(e,n){n.stopPropagation(),this.delete.emit(e)}downloadFile(e,n){n.stopPropagation(),this.download.emit(e)}}return e.\u0275fac=function(n){return new(n||e)(z.Nb(s.a),z.Nb(c.L))},e.\u0275cmp=z.Hb({type:e,selectors:[["app-library-list"]],inputs:{libraries:"libraries"},outputs:{select:"select",delete:"delete",download:"download"},decls:37,vars:16,consts:[["headerHeight","50","footerHeight","50","rowHeight","auto",1,"material","fullscreen",3,"columnMode","selectionType","rows","selected","select"],["prop","header.version",3,"minWidth","resizeable","flexGrow"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["prop","header.organism",3,"resizeable","flexGrow"],["prop","header.description",3,"resizeable","flexGrow"],["sortable","false",3,"minWidth","resizeable","flexGrow","cellClass","headerClass"],["ngx-datatable-footer-template",""],["translate",""],["fill","clear",1,"ion-no-padding",3,"click"],["slot","icon-only","name","trash-outline"],["slot","icon-only","name","cloud-download-outline"],["slot","icon-only","name","information-circle-outline"],[1,"library-list-datatable-footer"]],template:function(e,n){1&e&&(z.Sb(0,"ngx-datatable",0),z.ac("select",(function(e){return n.selectFile(e)})),z.zc(1,"\n  "),z.zc(2,"\n  "),z.Sb(3,"ngx-datatable-column",1),z.zc(4,"\n    "),z.xc(5,f,4,0,"ng-template",2),z.zc(6,"\n    "),z.xc(7,g,1,1,"ng-template",3),z.zc(8,"\n  "),z.Rb(),z.zc(9,"\n  "),z.Sb(10,"ngx-datatable-column",4),z.zc(11,"\n    "),z.xc(12,y,4,0,"ng-template",2),z.zc(13,"\n    "),z.xc(14,w,1,1,"ng-template",3),z.zc(15,"\n  "),z.Rb(),z.zc(16,"\n  "),z.Sb(17,"ngx-datatable-column",5),z.zc(18,"\n    "),z.xc(19,S,4,0,"ng-template",2),z.zc(20,"\n    "),z.xc(21,x,1,1,"ng-template",3),z.zc(22,"\n  "),z.Rb(),z.zc(23,"\n  "),z.Sb(24,"ngx-datatable-column",6),z.zc(25,"\n    "),z.xc(26,R,4,0,"ng-template",2),z.zc(27,"\n    "),z.xc(28,v,16,2,"ng-template",3),z.zc(29,"\n  "),z.Rb(),z.zc(30,"\n  "),z.Sb(31,"ngx-datatable-footer"),z.zc(32,"\n    "),z.xc(33,O,14,1,"ng-template",7),z.zc(34,"\n  "),z.Rb(),z.zc(35,"\n"),z.Rb(),z.zc(36,"\n")),2&e&&(z.hc("columnMode",n.ColumnMode.flex)("selectionType",n.SelectionType.single)("rows",n.libraries)("selected",n.library),z.Ab(3),z.hc("minWidth",160)("resizeable",!1)("flexGrow",1),z.Ab(7),z.hc("resizeable",!1)("flexGrow",2),z.Ab(7),z.hc("resizeable",!1)("flexGrow",3),z.Ab(7),z.hc("minWidth",120)("resizeable",!1)("flexGrow",1)("cellClass","ngx-datatable-justify-cell-right")("headerClass","ngx-datatable-justify-cell-right"))},directives:[o.f,o.c,o.d,o.b,o.g,o.e,u.a,c.e,c.r],styles:["ion-item[_ngcontent-%COMP%]{display:block;width:auto;float:left}ion-segment-button[_ngcontent-%COMP%]{max-width:unset}.ngx-datatable[_ngcontent-%COMP%]{box-shadow:unset}ion-item[_ngcontent-%COMP%], ngx-datatable[_ngcontent-%COMP%]{width:100%}.ion-item-with-ngx-datatable[_ngcontent-%COMP%]{--padding-start:0px;--inner-padding-end:0px}ion-button[_ngcontent-%COMP%]{--background-hover-opacity:0;--ripple-color:transparent;height:auto;margin-top:0;margin-bottom:0}.library-list-datatable-footer[_ngcontent-%COMP%]{padding:0 1.2rem;width:100%;display:flex;justify-content:space-between}"]}),e})();const M=[l.a.childRoutes([{path:"",component:(()=>{class e{constructor(e,n){this.apiService=e,this.projectService=n}ngOnInit(){this.getFiles()}getFiles(){this.apiService.getUserConstraintsFiles().subscribe(e=>{this.libraries=e})}onFileInput(e){this.apiService.addUserConstraintsFile(e.target.files[0]).pipe(Object(d.a)(()=>{this.getFiles()})).subscribe()}onSelect(e){this.projectService.project.library.userConstraintsFile=e.file}onDelete(e){this.apiService.deleteUserConstraintsFile(e.file).pipe(Object(d.a)(()=>{this.getFiles()})).subscribe()}onDownload(e){this.apiService.getUserConstraintsFile(e.file).subscribe(n=>{let t=new Blob([n],{type:"application/json"});p.saveAs(t,e.file)})}}return e.\u0275fac=function(n){return new(n||e)(z.Nb(s.a),z.Nb(b.a))},e.\u0275cmp=z.Hb({type:e,selectors:[["app-library"]],decls:27,vars:1,consts:[["color","primary",1,"ion-text-center"],["translate",""],["vertical","top","horizontal","end","slot","fixed",1,"custom-fab"],[3,"click"],["name","cloud-upload"],["accept","application/json","type","file",2,"display","none",3,"change"],["fileInput",""],[3,"libraries","select","delete","download"]],template:function(e,n){if(1&e){const e=z.Tb();z.Sb(0,"ion-content"),z.zc(1,"\n  "),z.Sb(2,"ion-text",0),z.zc(3,"\n    "),z.Sb(4,"h3",1),z.zc(5,"Choose a library"),z.Rb(),z.zc(6,"\n  "),z.Rb(),z.zc(7,"\n  "),z.zc(8,"\n  "),z.Sb(9,"ion-fab",2),z.zc(10,"\n    "),z.zc(11,"\n    "),z.Sb(12,"ion-fab-button",3),z.ac("click",(function(){return z.qc(e),z.oc(17).click()})),z.zc(13,"\n      "),z.Ob(14,"ion-icon",4),z.zc(15,"\n      "),z.Sb(16,"input",5,6),z.ac("change",(function(e){return n.onFileInput(e)})),z.Rb(),z.zc(18,"\n    "),z.Rb(),z.zc(19,"\n  "),z.Rb(),z.zc(20,"\n  "),z.Sb(21,"ion-card"),z.zc(22,"\n    "),z.Sb(23,"app-library-list",7),z.ac("select",(function(e){return n.onSelect(e)}))("delete",(function(e){return n.onDelete(e)}))("download",(function(e){return n.onDownload(e)})),z.Rb(),z.zc(24,"\n  "),z.Rb(),z.zc(25,"\n"),z.Rb(),z.zc(26,"\n")}2&e&&(z.Ab(23),z.hc("libraries",n.libraries))},directives:[c.m,c.F,u.a,c.n,c.o,c.r,c.g,C],styles:[""]}),e})(),data:{title:Object(a.c)("Cello : Project : Library")}}])];let j=(()=>{class e{}return e.\u0275mod=z.Lb({type:e}),e.\u0275inj=z.Kb({factory:function(n){return new(n||e)},imports:[[r.j.forChild(M)],r.j]}),e})(),A=(()=>{class e{}return e.\u0275mod=z.Lb({type:e}),e.\u0275inj=z.Kb({factory:function(n){return new(n||e)},imports:[[i.c,u.b,c.J,o.h,j]]}),e})()}}]);